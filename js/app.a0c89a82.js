(function(e){function t(t){for(var i,r,u=t[0],o=t[1],s=t[2],l=0,d=[];l<u.length;l++)r=u[l],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);m&&m(t);while(d.length)d.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],i=!0,u=1;u<n.length;u++){var o=n[u];0!==a[o]&&(i=!1)}i&&(c.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},a={app:0},c=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/Matbit-live-test/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],o=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var m=o;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0480":function(e,t,n){"use strict";n("82be")},"0998":function(e,t,n){"use strict";n("f040")},"2eb7":function(e,t,n){},3068:function(e,t,n){},"53a5":function(e,t,n){"use strict";n("2eb7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7a23"),a=Object(i["i"])("div",{class:"titleBar"},[Object(i["i"])("h1",null,"Matbit App 'Beta'")],-1),c={class:"mainApp"},r={class:"RecipesBox"},u=Object(i["i"])("h1",null,"Recipes",-1),o={class:"ItemsBox"},s=Object(i["i"])("h1",null,"Ingredients",-1),m=Object(i["i"])("div",{class:"footer"},[Object(i["i"])("pre",null,"|     Designed by Panagiotis Sakaridis     |")],-1);function l(e,t,n,l,d,p){var f=Object(i["p"])("recipesContainer"),b=Object(i["p"])("itemsContainer");return Object(i["k"])(),Object(i["f"])(i["a"],null,[a,Object(i["i"])("div",c,[Object(i["i"])("div",r,[Object(i["i"])("div",{class:"tab recipes",onClick:t[1]||(t[1]=function(e){return d.showRecipes=!d.showRecipes})},[u]),d.showRecipes?(Object(i["k"])(),Object(i["f"])(f,{key:0,recipes:e.$store.getters.getAllRecipes},null,8,["recipes"])):Object(i["g"])("",!0)]),Object(i["i"])("div",o,[Object(i["i"])("div",{class:"tab items",onClick:t[2]||(t[2]=function(e){return d.showItems=!d.showItems})},[s]),d.showItems?(Object(i["k"])(),Object(i["f"])(b,{key:0,items:e.$store.getters.getAllItems},null,8,["items"])):Object(i["g"])("",!0)])]),m],64)}var d={class:"items Container"};function p(e,t,n,a,c,r){var u=Object(i["p"])("itemCard"),o=Object(i["p"])("itemCreator");return Object(i["k"])(),Object(i["f"])("div",d,[Object(i["i"])(i["c"],{name:"animateItemList",tag:"div",css:!1,onEnter:r.enter,onLeave:r.leave},{default:Object(i["u"])((function(){return[(Object(i["k"])(!0),Object(i["f"])(i["a"],null,Object(i["o"])(n.items,(function(e){return Object(i["k"])(),Object(i["f"])(u,{key:e.id,item:e},null,8,["item"])})),128)),Object(i["i"])(o,{key:c.itemCreatorKey})]})),_:1},8,["onEnter","onLeave"])])}n("b0c0");var f=Object(i["w"])("data-v-7214049e");Object(i["m"])("data-v-7214049e");var b={class:"card"},O={class:"itemCard"},g={class:"itemName"},j={class:"itemInfo"},v={class:"progressContainer"},y={class:"progress-text"},h=Object(i["i"])("h6",null,"Amount",-1),I={class:"buttonContainer"},w={key:0,class:"consumeCard"},S={class:"buttonContainer"};Object(i["l"])();var x=f((function(e,t,n,a,c,r){var u=this;return Object(i["k"])(),Object(i["f"])("div",b,[Object(i["i"])("div",O,[Object(i["i"])("div",g,[Object(i["i"])("h6",null,Object(i["q"])(n.item.type),1),Object(i["i"])("h2",null,Object(i["q"])(n.item.name),1)]),Object(i["i"])("div",j,[Object(i["i"])("div",v,[Object(i["i"])("div",{class:"progress",style:r.calculateProgresPercent(n.item)},null,4),Object(i["i"])("span",y," Exp: "+Object(i["q"])(r.getDateString(n.item.date.expiring)),1)]),h,Object(i["i"])("h2",null,Object(i["q"])(n.item.quantity.ammount)+" "+Object(i["q"])(n.item.quantity.type),1),Object(i["i"])("div",I,[Object(i["i"])("button",{class:"btn red",onClick:t[1]||(t[1]=function(e){return r.Delete(n.item)})},"Delete"),Object(i["i"])("button",{class:"btn blue",onClick:t[2]||(t[2]=function(e){return r.togleConsumeCard(n.item)})},"Consume")])])]),Object(i["i"])(i["b"],{name:"fade"},{default:f((function(){return[u.hidden?Object(i["g"])("",!0):(Object(i["k"])(),Object(i["f"])("div",w,[Object(i["v"])(Object(i["i"])("input",{type:"text",class:"form__field xtrSmallField consumeInput","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.consumeValue=e}),placeholder:"0"},null,512),[[i["s"],c.consumeValue]]),Object(i["i"])("h2",null,Object(i["q"])(n.item.quantity.type),1),Object(i["i"])("div",S,[Object(i["i"])("button",{class:"btn blue",id:"btn-confirmConsume",onClick:t[4]||(t[4]=function(e){return r.Consume(n.item)})},"Ok"),Object(i["i"])("button",{class:"btn blue",id:"btn-cancelConsume",onClick:t[5]||(t[5]=function(e){return r.togleConsumeCard()})},"Cancel")])]))]})),_:1})])})),k=(n("d3b7"),n("25f0"),{name:"Item",props:["item"],data:function(){return{consumeValue:1,hidden:!0}},methods:{Delete:function(e){this.$store.commit("removeItem",e)},Consume:function(e){this.$store.commit("consumeItem",{consumeItem:e,ammount:this.consumeValue}),this.togleConsumeCard()},togleConsumeCard:function(){this.hidden=!this.hidden,this.consumeValue=1},getDateString:function(e){return e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()},calculateProgresPercent:function(e){var t=this.getDatePercentage(e.date.entered,e.date.expiring),n=t.toString()+"%",i="#2A265F";return t>90&&(i="#5f1919"),{"--fill-percent":n,"--fill-color":i}},getDatePercentage:function(e,t){var n=0,i=new Date(Date.now()),a=new Date(i.getFullYear(),i.getMonth(),i.getDate());return a>=t?n=100:a<t&&a>e&&(n=(a-e)/(t-e)*100),n>=100&&(n=100),n<0&&(n=0),n}}});n("53a5");k.render=x,k.__scopeId="data-v-7214049e";var C=k,q=Object(i["w"])("data-v-44c2c2f8");Object(i["m"])("data-v-44c2c2f8");var D={class:"itemCard creator"},V={class:"itemName"},R=Object(i["i"])("h6",null,"NEW ITEM",-1),_={class:"itemInfo"},N=Object(i["i"])("h6",null,"Amount",-1),F={class:"expDate"},E={class:"buttonContainer"};Object(i["l"])();var A=q((function(e,t,n,a,c,r){var u=Object(i["p"])("itemTypes");return Object(i["k"])(),Object(i["f"])("div",D,[Object(i["i"])("div",V,[R,Object(i["i"])("h2",null,[Object(i["v"])(Object(i["i"])("input",{type:"text",class:"form__field whiteText","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.newItemValues.name=e}),placeholder:"Item Name"},null,512),[[i["s"],c.newItemValues.name]])])]),Object(i["i"])("div",_,[N,Object(i["i"])("h2",null,[Object(i["v"])(Object(i["i"])("input",{type:"text",class:"form__field mediumField","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.newItemValues.quantity.ammount=e}),placeholder:"1"},null,512),[[i["s"],c.newItemValues.quantity.ammount]]),Object(i["v"])(Object(i["i"])("select",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.newItemValues.quantity.type=e}),class:"form__field smallField selectdiv"},[Object(i["i"])(u)],512),[[i["r"],c.newItemValues.quantity.type]])]),Object(i["i"])("div",F,[Object(i["v"])(Object(i["i"])("input",{type:"date",class:"form__field dateFild","onUpdate:modelValue":t[4]||(t[4]=function(e){return c.newItemValues.date=e})},null,512),[[i["s"],c.newItemValues.date]])]),Object(i["i"])("div",E,[Object(i["i"])("button",{class:"btn blue",id:"btn-add",onClick:t[5]||(t[5]=function(e){return r.submitForm()})},"Add Item")])])])})),P=(n("fb6a"),n("9612")),T=Object(i["i"])("option",{selected:"",value:""},"Item",-1),K=Object(i["i"])("option",{value:"ml"},"ml",-1),M=Object(i["i"])("option",{value:"Kg"},"Kg",-1),$=Object(i["i"])("option",{value:"g"},"g",-1);function U(e,t,n,a,c,r){return Object(i["k"])(),Object(i["f"])(i["a"],null,[T,K,M,$],64)}const B={};B.render=U;var Y=B;function J(){return{name:"",quantity:{ammount:"",type:""},date:(new Date).toISOString().slice(0,10)}}var W={name:"New Item",components:{itemTypes:Y},data:function(){return{newItemValues:J()}},methods:{submitForm:function(){var e={};e.id=P["a"].v4(),e.name=this.newItemValues.name,""==e.name&&(e.name="New Item"),e.type="Item",e.quantity={},e.quantity.ammount=parseFloat(this.newItemValues.quantity.ammount),isNaN(e.quantity.ammount)&&(e.quantity.ammount=1);var t=this.newItemValues.quantity.type;e.quantity.type=""==t?"Item"+(1==e.quantity.ammount?"":"s"):t,e.date={};var n=new Date(Date.now()),i=new Date(this.newItemValues.date),a=new Date(n.getFullYear(),n.getMonth(),n.getDate()),c=new Date(i.getFullYear(),i.getMonth(),i.getDate());e.date.entered=a,e.date.expiring=c,isNaN(e.date.expiring)&&(e.date.expiring=a),e.date.hasExpired=!(c>a),this.newItemValues=J(),this.$store.commit("addItem",e)}}};n("ce4d");W.render=A,W.__scopeId="data-v-44c2c2f8";var L=W,X=n("1209"),Z={name:"Items",components:{itemCreator:L,itemCard:C},props:["items"],data:function(){return{itemCreatorKey:P["a"].v4()}},methods:{enter:function(e,t){Object(X["a"])({targets:e,duration:350,translateY:[50,0],scale:[.5,1],opacity:[0,1],easing:"easeInOutSine",complete:t})},leave:function(e,t){Object(X["a"])({targets:e,duration:350,translateX:[0,50],scale:{delay:100,value:[1,.5]},opacity:[1,0],easing:"easeInOutSine",complete:t})}}};Z.render=p;var z=Z,G={class:"recipes Container"};function H(e,t,n,a,c,r){var u=Object(i["p"])("recipeCard"),o=Object(i["p"])("recipeCreator");return Object(i["k"])(),Object(i["f"])("div",G,[Object(i["i"])(i["c"],{name:"animateItemList",tag:"div",css:!1,onEnter:r.enter,onLeave:r.leave},{default:Object(i["u"])((function(){return[(Object(i["k"])(!0),Object(i["f"])(i["a"],null,Object(i["o"])(n.recipes,(function(e){return Object(i["k"])(),Object(i["f"])(u,{key:e.id,recipe:e},null,8,["recipe"])})),128)),Object(i["i"])(o,{key:c.recipeCreatorKey})]})),_:1},8,["onEnter","onLeave"])])}var Q=Object(i["w"])("data-v-05e7db47");Object(i["m"])("data-v-05e7db47");var ee={class:"recipeCard"},te={class:"recipeName cardSection"},ne=Object(i["i"])("h6",null,"Recipe",-1),ie={class:"recipeStatus cardSection"},ae={key:0,class:"greenText"},ce={key:1,class:"orangeText"},re=Object(i["h"])("Sufficient ingrediens "),ue=Object(i["i"])("br",null,null,-1),oe=Object(i["h"])(" (with expired items)"),se={key:2,class:"redText"},me={class:"show cardSection greySection"},le={key:0,class:"recipieItems cardSection"},de={class:"buttonContainer cardSection blueSection"};Object(i["l"])();var pe=Q((function(e,t,n,a,c,r){var u=Object(i["p"])("ingredient");return Object(i["k"])(),Object(i["f"])("div",ee,[Object(i["i"])("div",te,[ne,Object(i["i"])("h2",null,Object(i["q"])(n.recipe.name),1)]),Object(i["i"])("div",ie,[r.isReady()?(Object(i["k"])(),Object(i["f"])("h2",ae,"Sufficient ingrediens")):r.isReadyWithExp()?(Object(i["k"])(),Object(i["f"])("h2",ce,[re,ue,oe])):(Object(i["k"])(),Object(i["f"])("h2",se,"Insufficient ingrediens"))]),Object(i["i"])("div",me,[this.showItems?(Object(i["k"])(),Object(i["f"])("div",le,[(Object(i["k"])(!0),Object(i["f"])(i["a"],null,Object(i["o"])(n.recipe.items,(function(e){return Object(i["k"])(),Object(i["f"])(u,{key:e.id,ingredient:e},null,8,["ingredient"])})),128))])):Object(i["g"])("",!0),Object(i["i"])("div",{class:"showButton",onClick:t[1]||(t[1]=function(e){return r.toggleItems()})},[Object(i["i"])("i",{class:["arrow",[e.showItems?"up":"down"]]},null,2)])]),Object(i["i"])("div",de,[Object(i["i"])("button",{class:"btn red",onClick:t[2]||(t[2]=function(e){return r.Delete(n.recipe)})},"Delete"),Object(i["i"])("button",{class:"btn grey",onClick:t[3]||(t[3]=function(e){return r.makeRecipe(n.recipe)})},"Make")])])})),fe=Object(i["w"])("data-v-70d5596b");Object(i["m"])("data-v-70d5596b");var be={class:"ingredient"},Oe={class:"ingredientStats"},ge={class:"percentageBar"};Object(i["l"])();var je=fe((function(e,t,n,a,c,r){return Object(i["k"])(),Object(i["f"])("div",be,[Object(i["i"])("div",{class:["dot",r.checkIngredient(n.ingredient)]},null,2),Object(i["i"])("div",Oe,Object(i["q"])(n.ingredient.name)+" | "+Object(i["q"])(n.ingredient.ammount)+" "+Object(i["q"])(n.ingredient.type),1),Object(i["i"])("div",ge,[Object(i["i"])("div",{class:"fillPercent",style:r.calculateProgresPercentStyle()},null,4)])])})),ve={name:"Ingredient",props:["ingredient"],data:function(){return{percentage:0,ingrStorage:{}}},methods:{checkIngredient:function(e){return this.ingrStorage=this.$store.getters.getItemByName(e.name,e.type),this.percentage=100*this.getIngredientPercentage(e),this.ingrStorage.ammount>=e.ammount?"greenDot":this.ingrStorage.ammount+this.ingrStorage.expAmmount>=e.ammount?"orangeDot":"redDot"},getIngredientPercentage:function(e){var t=this.ingrStorage.ammount+this.ingrStorage.expAmmount;return t>=e.ammount?1:t<e.ammount&&t>0?t/e.ammount:t<=0?0:void 0},calculateProgresPercentStyle:function(){var e=this.percentage,t=e.toString()+"%",n="#5f1919";return e>=100&&(n="#2A265F"),{width:t,"--fill-color":n}}}};n("0998");ve.render=je,ve.__scopeId="data-v-70d5596b";var ye=ve,he={name:"Recipe",props:["recipe"],components:{ingredient:ye},data:function(){return{showItems:!1,expItems:[]}},methods:{toggleItems:function(){this.showItems=!this.showItems,this.$forceUpdate()},isReady:function(){return this.checkIngridientStatus(this.recipe),this.recipe.isReady},isReadyWithExp:function(){return this.checkIngridientStatus(this.recipe),this.recipe.isReadyWithExp},checkIngridientStatus:function(e){this.$store.commit("checkRecipeStatus",e.id)},Delete:function(e){this.$store.commit("removeRecipe",e)},makeRecipe:function(e){e.isReady&&this.$store.commit("executeRecipe",e)}}};n("639f");he.render=pe,he.__scopeId="data-v-05e7db47";var Ie=he,we=Object(i["w"])("data-v-fa6c6432");Object(i["m"])("data-v-fa6c6432");var Se={class:"recipeCard creator"},xe={class:"recipeName cardSection"},ke=Object(i["i"])("h6",null,"New Recipe",-1),Ce={class:"cardSection addNewItem"},qe=Object(i["i"])("h6",null,"Add new item",-1),De={class:"inputContainer"},Ve={class:"show cardSection greySection"},Re=Object(i["i"])("h6",null,"Added Items",-1),_e={class:"recipieItems cardSection"},Ne={class:"buttonContainer cardSection blueSection"};Object(i["l"])();var Fe=we((function(e,t,n,a,c,r){var u=Object(i["p"])("itemTypes");return Object(i["k"])(),Object(i["f"])("div",Se,[Object(i["i"])("div",xe,[ke,Object(i["i"])("h2",null,[Object(i["v"])(Object(i["i"])("input",{type:"text",class:"form__field whiteText","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.newRecipeValues.name=e}),placeholder:"Recipe Name"},null,512),[[i["s"],c.newRecipeValues.name]])])]),Object(i["i"])("div",Ce,[qe,Object(i["i"])("div",De,[Object(i["v"])(Object(i["i"])("input",{type:"text",class:"form__field smallField","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.addItemValues.name=e}),placeholder:"Name"},null,512),[[i["s"],c.addItemValues.name]]),Object(i["v"])(Object(i["i"])("input",{type:"text",class:"form__field xtrSmallField","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.addItemValues.quantity.ammount=e}),placeholder:"1"},null,512),[[i["s"],c.addItemValues.quantity.ammount]]),Object(i["v"])(Object(i["i"])("select",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.addItemValues.quantity.type=e}),class:"form__field xtrSmallField selectdiv"},[Object(i["i"])(u)],512),[[i["r"],c.addItemValues.quantity.type]]),Object(i["i"])("button",{class:"btn blue resetFloat",onClick:t[5]||(t[5]=function(e){return r.addItem()})},"+")])]),Object(i["i"])("div",Ve,[Re,Object(i["i"])("ul",_e,[(Object(i["k"])(!0),Object(i["f"])(i["a"],null,Object(i["o"])(c.addedItems,(function(e){return Object(i["k"])(),Object(i["f"])("li",{key:e.id},Object(i["q"])(e.name)+" : "+Object(i["q"])(e.ammount)+" "+Object(i["q"])(e.type),1)})),128))])]),Object(i["i"])("div",Ne,[Object(i["i"])("button",{class:"btn grey",onClick:t[6]||(t[6]=function(e){return r.submitForm()})},"Add Recipe")])])}));function Ee(){return{name:"",items:[]}}function Ae(){return{name:"",quantity:{ammount:"",type:""}}}var Pe={name:"New Recipe",components:{itemTypes:Y},data:function(){return{newRecipeValues:Ee(),addItemValues:Ae(),addedItems:[]}},methods:{submitForm:function(){var e={};e.id=P["a"].v4(),e.name=this.newRecipeValues.name,""==e.name&&(e.name="New Recipe"),e.items=this.addedItems,this.newRecipeValues=Ee(),this.addItemValues=Ae(),this.addedItems=[],this.$store.commit("addRecipe",e)},addItem:function(){var e={};e.id=P["a"].v4(),e.name=this.addItemValues.name,""==e.name&&(e.name="New Item"),e.ammount=parseInt(this.addItemValues.quantity.ammount),(isNaN(e.ammount)||e.ammount<=0)&&(e.ammount=1);var t=this.addItemValues.quantity.type;e.type=""==t?"Item"+(1==e.ammount?"":"s"):t,this.addedItems.push(e),this.addItemValues=Ae()}}};n("0480");Pe.render=Fe,Pe.__scopeId="data-v-fa6c6432";var Te=Pe,Ke={name:"Recipes",components:{recipeCard:Ie,recipeCreator:Te},props:["recipes"],data:function(){return{recipeCreatorKey:P["a"].v4()}},methods:{enter:function(e,t){Object(X["a"])({targets:e,duration:350,translateY:[50,0],scale:[.5,1],opacity:[0,1],easing:"easeInOutSine",complete:t})},leave:function(e,t){Object(X["a"])({targets:e,duration:350,translateX:[0,50],scale:{delay:100,value:[1,.5]},opacity:[1,0],easing:"easeInOutSine",complete:t})}}};Ke.render=H;var Me=Ke,$e=(n("ac1f"),n("1276"),.1),Ue="items-storage",Be="recipes-storage",Ye="dev-settings",Je={appVersion:0},We={getCurrentAppVersion:function(){return $e},getItemsStorageKey:function(){return Ue},getRecipesStorageKey:function(){return Be},getDevSettingsKey:function(){return Ye},getDefaultDevSettings:function(){return Je},JsonDateParser:function(e,t){var n=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|(\+|-)([\d|:]*))?$/,i=/^\/Date\((d|-|.*)\)[\\/|\\]$/;if("string"===typeof t){var a=n.exec(t);if(a)return new Date(t);if(a=i.exec(t),a){var c=a[1].split(/[-+,.]/);return new Date(c[0]?+c[0]:0-+c[1])}}return t},sameDay:function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},fixItemType:function(e){"Item"==e.type&&1!=e.ammount?e.type="Items":"Items"==e.type&&1==e.ammount&&(e.type="Item")},getFormatedDate:function(e){var t=new Date(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate())}},Le={name:"App",components:{itemsContainer:z,recipesContainer:Me},data:function(){return{showItems:!0,showRecipes:!0}},mixins:[We],created:function(){this.$store.commit("initialise")}};n("64be");Le.render=l;var Xe=Le,Ze=(n("a623"),n("4de4"),n("c740"),n("4160"),n("13d5"),n("a434"),n("159b"),n("5502")),ze=Object(Ze["a"])({state:{items:[],recipes:[],devSettings:{}},getters:{getAllItems:function(e){return e.items},getAllRecipes:function(e){return e.recipes},getItemByName:function(e){return function(t,n){var i=e.items.filter((function(e){return e.name==t&&ct(e.quantity.type,n)}));if(0==i.length)return{ammount:0,expAmmount:0,type:"items"};var a=0,c=0;return i.forEach((function(e){rt(e.date.expiring)?c+=e.quantity.ammount:a+=e.quantity.ammount})),{ammount:a,expAmmount:c,type:i[0].quantity.type}}},getItemExpDate:function(e){return function(t){var n=e.items.filter((function(e){return e.name==t}));if(0==n.length)return null;var i=[];n.forEach((function(e){i.push(e.date.expiring)}));var a=We.getFormatedDate(i.reduce((function(e,t){return e<t?e:t})));return a}}},mutations:{initialise:function(e){e.devSettings=tt(We.getDevSettingsKey())||We.getDefaultDevSettings(),e.devSettings.appVersion<We.getCurrentAppVersion()&&(console.log("Reseting storage"),e.items=[],He(e),e.recipes=[],Qe(e),e.devSettings.appVersion=We.getCurrentAppVersion()),e.items=tt(We.getItemsStorageKey())||[],e.recipes=tt(We.getRecipesStorageKey())||[],nt(e.items),et(e)},addItem:function(e,t){if(!(t.quantity.ammount<=0)){var n=e.items.findIndex((function(e){return e.name===t.name&&We.sameDay(e.date.expiring,t.date.expiring)&&ct(e.quantity.type,t.quantity.type)}));n<0?e.items.push(t):(e.items[n].quantity.ammount+=t.quantity.ammount,We.fixItemType(e.items[n].quantity)),He(e)}},removeItem:function(e,t){var n=e.items.findIndex((function(e){return e.id==t.id}));e.items.splice(n,1),He(e)},consumeItem:function(e,t){var n=t.consumeItem,i=t.ammount;e.items.forEach((function(e,t,a){if(e.id==n.id){var c=parseFloat(i);isNaN(c)&&(c=0),e.quantity.ammount-=c,We.fixItemType(e.quantity),e.quantity.ammount<=0&&a.splice(t,1)}})),He(e)},addRecipe:function(e,t){e.recipes.push(t),Qe(e)},removeRecipe:function(e,t){var n=e.recipes.findIndex((function(e){return e.id==t.id}));e.recipes.splice(n,1),Qe(e)},checkRecipeStatus:function(e,t){var n=this;e.recipes.forEach((function(e){if(e.id==t){var i=it(n,e);e.isReady=i.isReady,e.isReadyWithExp=i.isReadyWithExp,e.expItems=at(n,e)}}))},executeRecipe:function(e,t){t.items.forEach((function(t){ut(e,t)}))}}}),Ge=ze;function He(e){localStorage.setItem(We.getItemsStorageKey(),JSON.stringify(e.items))}function Qe(e){localStorage.setItem(We.getRecipesStorageKey(),JSON.stringify(e.recipes))}function et(e){localStorage.setItem(We.getDevSettingsKey(),JSON.stringify(e.devSettings))}function tt(e){var t=localStorage.getItem(e);return JSON.parse(t,We.JsonDateParser)}function nt(e){e.forEach((function(e){e.date.hasExpired=!(e.date.expiring>We.getFormatedDate(Date.now()))}))}function it(e,t){var n=!0,i=!0,a=0;return t.items.forEach((function(t){var c=e.getters.getItemByName(t.name,t.type);a=c.ammount+c.expAmmount,t.ammount>c.ammount&&(n=!1),t.ammount>a&&(i=!1)})),{isReady:n,isReadyWithExp:i}}function at(e,t){var n=[],i=We.getFormatedDate(Date.now());return t.items.forEach((function(t){var a=e.getters.getItemExpDate(t.name);null!=a&&a<=i&&n.push(t)})),n}function ct(e,t){return e===t||!("Item"!=e&&"Items"!=e||"Item"!=t&&"Items"!=t)}function rt(e){var t=We.getFormatedDate(Date.now());return t>=e}function ut(e,t){var n=t.ammount,i=0,a=e.items.filter((function(e){return e.name==t.name&&ct(e.quantity.type,t.type)&&!rt(e.date.expiring)}));a.sort((function(e,t){return e.quantity.ammount-t.quantity.ammount})),a.every((function(t){return i=t.quantity.ammount,t.quantity.ammount-=n,We.fixItemType(t.quantity),n-=i,!(t.quantity.ammount>0)&&(0==t.quantity.ammount?(ot(e,t),!1):t.quantity.ammount<0?(ot(e,t),!0):void 0)})),He(e)}function ot(e,t){var n=0;n=e.items.findIndex((function(e){return e.id===t.id})),e.items.splice(n,1)}Object(i["e"])(Xe).use(Ge).mount("#app")},"639f":function(e,t,n){"use strict";n("a94c")},"64be":function(e,t,n){"use strict";n("3068")},7734:function(e,t,n){},"82be":function(e,t,n){},a94c:function(e,t,n){},ce4d:function(e,t,n){"use strict";n("7734")},f040:function(e,t,n){}});
//# sourceMappingURL=app.a0c89a82.js.map